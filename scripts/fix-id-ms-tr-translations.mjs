import fs from 'node:fs/promises';
import path from 'node:path';

const LOCALES_DIR = path.join(process.cwd(), 'locales');

function isPlainObject(value) {
  return value !== null && typeof value === 'object' && !Array.isArray(value);
}

function setDeep(target, dottedPath, value) {
  const parts = dottedPath.split('.');
  let current = target;
  for (let i = 0; i < parts.length - 1; i += 1) {
    const key = parts[i];
    const next = current[key];
    if (!isPlainObject(next)) current[key] = {};
    current = current[key];
  }
  current[parts[parts.length - 1]] = value;
}

async function readJson(filePath) {
  const raw = await fs.readFile(filePath, 'utf8');
  return { raw, json: JSON.parse(raw) };
}

async function writeJson(filePath, json) {
  const raw = `${JSON.stringify(json, null, 2)}\n`;
  await fs.writeFile(filePath, raw, 'utf8');
}

/**
 * Only touches keys in this map.
 * (Keeps the rest of each locale file intact.)
 */
const PATCHES = {
  'id.json': {
    // common
    'common.home': 'Beranda',
    'common.about': 'Tentang Kami',
    'common.contact': 'Hubungi Kami',
    'common.privacy_policy': 'Kebijakan Privasi',
    'common.terms_conditions': 'Syarat & Ketentuan',
    'common.language': 'Bahasa',
    'common.empty': 'Tidak ada data',
    'common.next_step': 'Langkah berikutnya',
    'common.previous_step': 'Langkah sebelumnya',
    'common.submit': 'Kirim',
    'common.error': 'Terjadi kesalahan',

    // header
    'header.nav.home': 'Beranda',
    'header.nav.services': 'Layanan',
    'header.nav.products': 'Produk',
    'header.nav.about': 'Tentang Kami',
    'header.services.menuAria': 'Menu layanan',
    'header.services.items.appName': 'Arkan Al-Manasik',
    'header.services.items.hadiAndUdhiyah': 'Hadi & Udhiyah',
    'header.services.items.badal': 'Badal',
    'header.services.items.consultations': 'Konsultasi',
    'header.services.items.manasik': 'Manasik',
    'header.services.items.permits': 'Perizinan',
    'header.actions.account': 'Akun',
    'header.actions.cart': 'Keranjang',
    'header.soon': 'Segera',
    'header.mobile.navigation': 'Navigasi',
    'header.mobile.menu': 'Menu',
    'header.mobile.closeMenu': 'Tutup menu',
    'header.mobile.close': 'Tutup',

    // footer
    'footer.description':
      'Platform utama Anda untuk layanan Haji dan Umrah. Kami berupaya menghadirkan pengalaman spiritual yang lengkap dan mudah bagi jamaah dari seluruh dunia.',
    'footer.quickLinks.title': 'Tautan cepat',
    'footer.quickLinks.about': 'Tentang perusahaan',
    'footer.quickLinks.products': 'Produk',
    'footer.quickLinks.blog': 'Blog Islami',
    'footer.quickLinks.privacyPolicy': 'Kebijakan privasi',
    'footer.support.title': 'Dukungan & bantuan',
    'footer.support.helpCenter': 'Pusat bantuan',
    'footer.support.faq': 'Tanya Jawab',
    'footer.support.trackOrder': 'Lacak pesanan',
    'footer.support.contact': 'Hubungi kami',
    'footer.newsletter.title': 'Berlangganan',
    'footer.newsletter.description': 'Dapatkan penawaran terbaru dan tips untuk perjalanan Anda.',
    'footer.newsletter.emailPlaceholder': 'Email Anda',
    'footer.newsletter.submitAria': 'Kirim',

    // store
    'store.brand.subtitle':
      'Produk terbaik untuk perjalanan spiritual Anda dengan harga kompetitif',
    'store.breadcrumb.ariaLabel': 'Breadcrumb',
    'store.breadcrumb.store': 'Toko',
    'store.search.mobilePlaceholder': 'Cari produk...',
    'store.search.desktopPlaceholder': 'Cari ihram, mushaf...',
    'store.filters.categories': 'Kategori',
    'store.filters.price': 'Harga',
    'store.filters.inStockOnly': 'Hanya stok tersedia',
    'store.categories.all': 'Semua',
    'store.categories.ihram': 'Pakaian ihram',
    'store.categories.mushaf': "Mushaf Al-Qur'an",
    'store.categories.books': 'Buku Islami',
    'store.categories.beads': 'Tasbih',
    'store.categories.prayerRugs': 'Sajadah',
    'store.categories.perfumes': 'Parfum',
    'store.sort.label': 'Urutkan:',
    'store.sort.options.bestSelling': 'Terlaris',
    'store.sort.options.priceLowToHigh': 'Harga: rendah ke tinggi',
    'store.sort.options.priceHighToLow': 'Harga: tinggi ke rendah',
    'store.sort.options.newest': 'Terbaru',
    'store.actions.addToFavorites': 'Tambahkan ke favorit',
    'store.actions.addToCartShort': 'Tambah ke keranjang',
    'store.pagination.previous': 'Halaman sebelumnya',
    'store.pagination.next': 'Halaman berikutnya',

    'store.products.items.details.title': 'Judul produk',
    'store.products.items.details.shortDescription':
      'Deskripsi singkat produk yang menonjolkan fitur dan manfaat utamanya.',
    'store.products.items.details.fullDescription':
      'Deskripsi lengkap dan detail produk yang mencakup informasi penting seperti bahan, cara penggunaan, manfaat, serta detail lain yang membantu keputusan pembelian.',

    'store.product.actions.addToFavorites': 'Tambahkan ke favorit',
    'store.product.actions.removeFromFavorites': 'Hapus dari favorit',
    'store.product.actions.addToCart': 'Tambah ke keranjang',
    'store.product.actions.share': 'Bagikan produk',
    'store.product.share.text': 'Lihat detail produk',
    'store.product.stock.inStock': 'Tersedia',
    'store.product.rating.aria': 'Penilaian',
    'store.product.rating.count': '({count} ulasan)',
    'store.product.price.currency': 'Riyal Saudi',
    'store.product.price.vatIncluded': 'Termasuk PPN',
    'store.product.quantity.label': 'Jumlah',
    'store.product.quantity.increase': 'Tambah jumlah',
    'store.product.quantity.decrease': 'Kurangi jumlah',
    'store.product.quantity.inputAria': 'Jumlah',
    'store.product.tabs.description': 'Deskripsi',
    'store.product.tabs.specs': 'Spesifikasi',
    'store.product.tabs.reviews': 'Ulasan ({count})',
    'store.product.reviews.title': 'Ulasan pelanggan',
    'store.product.reviews.basedOn': 'Berdasarkan {count} ulasan',
    'store.product.specs.title': 'Spesifikasi',
    'store.product.specs.material.label': 'Bahan',
    'store.product.specs.accessories.label': 'Aksesori',
    'store.product.specs.suitableFor.label': 'Cocok untuk',
    'store.product.specs.warranty.label': 'Garansi',

    // cart checkout flow
    'cart.currency.sar': 'SAR',
    'cart.itemCard.removeItemAria': 'Hapus {item}',
    'cart.itemCard.decreaseQtyAria': 'Kurangi jumlah {item}',
    'cart.itemCard.increaseQtyAria': 'Tambah jumlah {item}',
    'cart.step1.title': 'Isi keranjang',
    'cart.checkout.title': 'Checkout',
    'cart.checkout.subtitle': 'Selesaikan langkah pemesanan untuk menyelesaikan perjalanan berkah Anda',
    'cart.checkout.stepper.step1': 'Tinjau keranjang',
    'cart.checkout.stepper.step2': 'Informasi pelanggan',
    'cart.checkout.stepper.step3': 'Metode pembayaran',
    'cart.checkout.progress.stepOf': 'Langkah {step} dari {total}',
    'cart.checkout.progress.completePercent': '{percent}% selesai',
    'cart.checkout.summary.title': 'Ringkasan pesanan',
    'cart.checkout.summary.subtotal': 'Subtotal',
    'cart.checkout.summary.vat': 'PPN ({rate}%)',
    'cart.checkout.summary.serviceFee': 'Biaya layanan',
    'cart.checkout.summary.total': 'Total',
    'cart.checkout.discount.placeholder': 'Kode diskon',
    'cart.checkout.discount.apply': 'Terapkan',
    'cart.checkout.actions.continueToCustomerInfo': 'Lanjut ke info pelanggan',
    'cart.checkout.actions.continueToPayment': 'Lanjut ke pembayaran',
    'cart.checkout.actions.confirmPayment': 'Konfirmasi pembayaran',
    'cart.checkout.securityHint': 'Pembayaran aman & terenkripsi 100%',
    'cart.checkout.help.title': 'Butuh bantuan?',
    'cart.checkout.help.description': 'Tim kami tersedia 24/7 untuk membantu Anda menyelesaikan pemesanan',
    'cart.checkout.help.contact': 'Hubungi kami',

    'cart.step2.title': 'Data pelanggan',
    'cart.step2.fields.fullNameLabel': 'Nama lengkap',
    'cart.step2.fields.fullNamePlaceholder': 'Muhammad Ahmad',
    'cart.step2.fields.phoneLabel': 'Nomor telepon',
    'cart.step2.fields.phonePlaceholder': '55 000 0000',
    'cart.step2.fields.emailLabel': 'Email',
    'cart.step2.fields.emailPlaceholder': 'example@mail.com',
    'cart.step2.fields.countryLabel': 'Negara',
    'cart.step2.fields.countryPlaceholder': 'Pilih negara',
    'cart.step2.fields.birthDateLabel': 'Tanggal lahir',
    'cart.step2.fields.birthDatePlaceholder': 'dd/mm/yyyy',
    'cart.step2.fields.performedHajjOrUmrahBeforeLabel': 'Apakah Anda pernah Haji atau Umrah sebelumnya?',
    'cart.step2.fields.nationalAddressLabel': 'Alamat nasional (opsional)',
    'cart.step2.options.countries.id': 'Indonesia',
    'cart.step2.options.countries.ms': 'Malaysia',
    'cart.step2.options.countries.tr': 'Turki',
    'cart.step2.options.countries.lk': 'Sri Lanka',
    'cart.step2.options.phoneCountries.sa': 'Arab Saudi',
    'cart.step2.options.yesNo.yes': 'Ya',
    'cart.step2.options.yesNo.no': 'Tidak',
    'cart.step2.actions.back': 'Kembali',
    'cart.step2.actions.next': 'Berikutnya',
    'cart.step2.validation.fullNameRequired': 'Nama lengkap wajib diisi',
    'cart.step2.validation.phoneCountryRequired': 'Kode negara wajib diisi',
    'cart.step2.validation.phoneRequired': 'Nomor telepon wajib diisi',
    'cart.step2.validation.phoneInvalid': 'Nomor telepon tidak valid',
    'cart.step2.validation.emailRequired': 'Email wajib diisi',
    'cart.step2.validation.emailInvalid': 'Email tidak valid',
    'cart.step2.validation.countryRequired': 'Negara wajib dipilih',
    'cart.step2.validation.birthDateRequired': 'Tanggal lahir wajib diisi',
    'cart.step2.validation.birthDateInvalid': 'Format tanggal lahir tidak valid (dd/mm/yyyy)',
    'cart.step2.validation.performedHajjOrUmrahBeforeRequired': 'Kolom ini wajib diisi',

    'cart.step3.title': 'Metode pembayaran',
    'cart.step3.methods.card.title': 'Kartu kredit / debit',
    'cart.step3.methods.card.description': 'Bayar aman menggunakan kartu bank Anda',
    'cart.step3.methods.bank.title': 'Transfer bank',
    'cart.step3.methods.bank.description': 'Unggah bukti transfer',
    'cart.step3.card.title': 'Detail kartu',
    'cart.step3.card.secureHint': 'Terenkripsi & aman',
    'cart.step3.card.note': 'Informasi ini hanya digunakan untuk keperluan pembayaran.',
    'cart.step3.card.fields.cardholder.label': 'Nama pemegang kartu',
    'cart.step3.card.fields.cardholder.placeholder': 'Nama sesuai pada kartu',
    'cart.step3.card.fields.cardNumber.label': 'Nomor kartu',
    'cart.step3.card.fields.cardNumber.placeholder': '1234 5678 9012 3456',
    'cart.step3.card.fields.expiry.label': 'Tanggal kedaluwarsa',
    'cart.step3.card.fields.expiry.placeholder': 'MM/YY',
    'cart.step3.card.fields.cvc.label': 'Kode keamanan',
    'cart.step3.card.fields.cvc.placeholder': 'CVC',
    'cart.step3.bank.title': 'Detail transfer bank',
    'cart.step3.bank.description': 'Transfer ke rekening di bawah, lalu unggah bukti transfer untuk menyelesaikan pesanan.',
    'cart.step3.bank.details.bankNameLabel': 'Nama bank',
    'cart.step3.bank.details.beneficiaryNameLabel': 'Nama penerima',
    'cart.step3.bank.details.ibanLabel': 'Rekening / IBAN',
    'cart.step3.bank.receipt.title': 'Unggah bukti transfer',
    'cart.step3.bank.receipt.formats': 'PDF atau gambar (JPG/PNG)',
    'cart.step3.bank.receipt.upload': 'Klik untuk unggah bukti',
    'cart.step3.bank.receipt.chosen': 'File dipilih',
    'cart.step3.bank.receipt.chooseFromDevice': 'Pilih file dari perangkat Anda',
    'cart.step3.bank.receipt.wrongFileHint': 'Jika file salah, hapus lalu unggah yang lain.',
    'cart.step3.bank.receipt.removeFile': 'Hapus file',
    'cart.step3.actions.back': 'Kembali',
    'cart.step3.actions.confirm': 'Konfirmasi pembayaran',
    'cart.step3.validation.methodRequired': 'Silakan pilih metode pembayaran.',
    'cart.step3.validation.cardholderRequired': 'Silakan masukkan nama pemegang kartu.',
    'cart.step3.validation.cardNumberRequired': 'Silakan masukkan nomor kartu.',
    'cart.step3.validation.cardNumberInvalid': 'Nomor kartu tidak valid.',
    'cart.step3.validation.cardNumberLuhnInvalid': 'Nomor kartu tidak valid.',
    'cart.step3.validation.expiryRequired': 'Silakan masukkan tanggal kedaluwarsa.',
    'cart.step3.validation.expiryInvalid': 'Tanggal kedaluwarsa tidak valid.',
    'cart.step3.validation.cvcRequired': 'Silakan masukkan kode keamanan.',
    'cart.step3.validation.cvcInvalid': 'Kode keamanan tidak valid.',
    'cart.step3.validation.receiptRequired': 'Silakan unggah bukti transfer.',
    'cart.step3.validation.receiptTypeInvalid': 'Tipe file tidak didukung. Unggah PDF atau gambar.',
    'cart.step3.validation.receiptSizeTooLarge': 'Ukuran file terlalu besar. Maksimum 5MB.',

    // qurbani page (minimal keys used)
    'qurbani.currency.sar': 'SAR',
    'qurbani.items.increaseAria': 'Tambah jumlah {item}',
    'qurbani.items.decreaseAria': 'Kurangi jumlah {item}',
    'qurbani.cart.title': 'Detail pesanan',
    'qurbani.cart.empty': 'Anda belum menambahkan item apa pun.',
    'qurbani.cart.quantityLabel': 'Qty:',
    'qurbani.cart.clear': 'Kosongkan pesanan',
    'qurbani.cart.checkout': 'Checkout',
    'qurbani.cart.outOfSync': 'Nilai belum sinkron. Silakan perbarui pesanan di: {sections}.',
    'qurbani.summary.subtotal': 'Subtotal',
    'qurbani.summary.tax': 'Pajak ({rate}%)',
    'qurbani.summary.total': 'Total',
    'qurbani.badges.securePayment': 'Pembayaran aman',
    'qurbani.badges.support247': 'Dukungan 24/7',
    'qurbani.listSeparator': ', ',
  },

  'ms.json': {
    'common.home': 'Utama',
    'common.about': 'Tentang Kami',
    'common.contact': 'Hubungi Kami',
    'common.privacy_policy': 'Dasar Privasi',
    'common.terms_conditions': 'Terma & Syarat',
    'common.language': 'Bahasa',
    'common.empty': 'Tiada data',
    'common.next_step': 'Langkah seterusnya',
    'common.previous_step': 'Langkah sebelumnya',
    'common.submit': 'Hantar',
    'common.error': 'Ralat telah berlaku',

    'header.nav.home': 'Utama',
    'header.nav.services': 'Perkhidmatan',
    'header.nav.products': 'Produk',
    'header.nav.about': 'Tentang Kami',
    'header.services.menuAria': 'Menu perkhidmatan',
    'header.services.items.appName': 'Arkan Al-Manasik',
    'header.services.items.hadiAndUdhiyah': 'Hadi & Udhiyah',
    'header.services.items.badal': 'Badal',
    'header.services.items.consultations': 'Konsultasi',
    'header.services.items.manasik': 'Manasik',
    'header.services.items.permits': 'Permit',
    'header.actions.account': 'Akaun',
    'header.actions.cart': 'Troli',
    'header.soon': 'Akan datang',
    'header.mobile.navigation': 'Navigasi',
    'header.mobile.menu': 'Menu',
    'header.mobile.closeMenu': 'Tutup menu',
    'header.mobile.close': 'Tutup',

    'footer.description':
      'Platform utama anda untuk perkhidmatan Haji dan Umrah. Kami berusaha menyediakan pengalaman rohani yang lengkap dan mudah untuk jemaah dari seluruh dunia.',
    'footer.quickLinks.title': 'Pautan pantas',
    'footer.quickLinks.about': 'Tentang syarikat',
    'footer.quickLinks.products': 'Produk',
    'footer.quickLinks.blog': 'Blog Islam',
    'footer.quickLinks.privacyPolicy': 'Dasar privasi',
    'footer.support.title': 'Sokongan & bantuan',
    'footer.support.helpCenter': 'Pusat bantuan',
    'footer.support.faq': 'Soalan lazim',
    'footer.support.trackOrder': 'Jejak pesanan',
    'footer.support.contact': 'Hubungi kami',
    'footer.newsletter.title': 'Langgan',
    'footer.newsletter.description': 'Dapatkan tawaran dan tip terkini untuk perjalanan anda.',
    'footer.newsletter.emailPlaceholder': 'E-mel anda',
    'footer.newsletter.submitAria': 'Hantar',

    'store.brand.subtitle':
      'Produk terbaik untuk perjalanan rohani anda pada harga yang kompetitif',
    'store.breadcrumb.ariaLabel': 'Jejak navigasi',
    'store.breadcrumb.store': 'Kedai',
    'store.search.mobilePlaceholder': 'Cari produk...',
    'store.search.desktopPlaceholder': 'Cari ihram, mushaf...',
    'store.filters.categories': 'Kategori',
    'store.filters.price': 'Harga',
    'store.filters.inStockOnly': 'Hanya yang ada stok',
    'store.categories.all': 'Semua',
    'store.categories.ihram': 'Pakaian ihram',
    'store.categories.mushaf': 'Mushaf Al-Quran',
    'store.categories.books': 'Buku Islam',
    'store.categories.beads': 'Tasbih',
    'store.categories.prayerRugs': 'Sejadah',
    'store.categories.perfumes': 'Minyak wangi',
    'store.sort.label': 'Susun ikut:',
    'store.sort.options.bestSelling': 'Paling laris',
    'store.sort.options.priceLowToHigh': 'Harga: rendah ke tinggi',
    'store.sort.options.priceHighToLow': 'Harga: tinggi ke rendah',
    'store.sort.options.newest': 'Terbaharu',
    'store.actions.addToFavorites': 'Tambah ke kegemaran',
    'store.actions.addToCartShort': 'Tambah ke troli',
    'store.pagination.previous': 'Halaman sebelumnya',
    'store.pagination.next': 'Halaman seterusnya',

    'store.products.items.details.title': 'Tajuk produk',
    'store.products.items.details.shortDescription':
      'Penerangan ringkas produk yang menonjolkan ciri dan manfaat utama.',
    'store.products.items.details.fullDescription':
      'Penerangan penuh dan terperinci produk termasuk bahan, cara penggunaan, manfaat dan maklumat lain untuk membantu keputusan pembelian.',

    'store.product.actions.addToFavorites': 'Tambah ke kegemaran',
    'store.product.actions.removeFromFavorites': 'Buang daripada kegemaran',
    'store.product.actions.addToCart': 'Tambah ke troli',
    'store.product.actions.share': 'Kongsi produk',
    'store.product.share.text': 'Lihat butiran produk',
    'store.product.stock.inStock': 'Ada stok',
    'store.product.rating.aria': 'Penilaian',
    'store.product.rating.count': '({count} ulasan)',
    'store.product.price.currency': 'Riyal Saudi',
    'store.product.price.vatIncluded': 'Termasuk cukai',
    'store.product.quantity.label': 'Kuantiti',
    'store.product.quantity.increase': 'Tambah kuantiti',
    'store.product.quantity.decrease': 'Kurangkan kuantiti',
    'store.product.quantity.inputAria': 'Kuantiti',
    'store.product.tabs.description': 'Penerangan',
    'store.product.tabs.specs': 'Spesifikasi',
    'store.product.tabs.reviews': 'Ulasan ({count})',
    'store.product.reviews.title': 'Ulasan pelanggan',
    'store.product.reviews.basedOn': 'Berdasarkan {count} ulasan',
    'store.product.specs.title': 'Spesifikasi',
    'store.product.specs.material.label': 'Bahan',
    'store.product.specs.accessories.label': 'Aksesori',
    'store.product.specs.suitableFor.label': 'Sesuai untuk',
    'store.product.specs.warranty.label': 'Jaminan',

    'cart.currency.sar': 'SAR',
    'cart.itemCard.removeItemAria': 'Buang {item}',
    'cart.itemCard.decreaseQtyAria': 'Kurangkan kuantiti {item}',
    'cart.itemCard.increaseQtyAria': 'Tambah kuantiti {item}',
    'cart.step1.title': 'Kandungan troli',
    'cart.checkout.title': 'Pembayaran',
    'cart.checkout.subtitle': 'Lengkapkan langkah tempahan untuk menyempurnakan perjalanan anda',
    'cart.checkout.stepper.step1': 'Semak troli',
    'cart.checkout.stepper.step2': 'Maklumat pelanggan',
    'cart.checkout.stepper.step3': 'Kaedah pembayaran',
    'cart.checkout.progress.stepOf': 'Langkah {step} daripada {total}',
    'cart.checkout.progress.completePercent': '{percent}% siap',
    'cart.checkout.summary.title': 'Ringkasan pesanan',
    'cart.checkout.summary.subtotal': 'Subjumlah',
    'cart.checkout.summary.vat': 'Cukai ({rate}%)',
    'cart.checkout.summary.serviceFee': 'Yuran perkhidmatan',
    'cart.checkout.summary.total': 'Jumlah',
    'cart.checkout.discount.placeholder': 'Kod diskaun',
    'cart.checkout.discount.apply': 'Guna',
    'cart.checkout.actions.continueToCustomerInfo': 'Teruskan ke maklumat pelanggan',
    'cart.checkout.actions.continueToPayment': 'Teruskan ke pembayaran',
    'cart.checkout.actions.confirmPayment': 'Sahkan pembayaran',
    'cart.checkout.securityHint': 'Pembayaran 100% selamat & disulitkan',
    'cart.checkout.help.title': 'Perlukan bantuan?',
    'cart.checkout.help.description': 'Pasukan kami tersedia 24/7 untuk membantu anda menyiapkan tempahan',
    'cart.checkout.help.contact': 'Hubungi kami',

    'cart.step2.title': 'Maklumat pelanggan',
    'cart.step2.actions.back': 'Kembali',
    'cart.step2.actions.next': 'Seterusnya',

    'cart.step3.title': 'Kaedah pembayaran',
    'cart.step3.methods.card.title': 'Kad kredit / debit',
    'cart.step3.methods.card.description': 'Bayar dengan selamat menggunakan kad bank anda',
    'cart.step3.methods.bank.title': 'Pindahan bank',
    'cart.step3.methods.bank.description': 'Muat naik resit pindahan',

    'cart.step3.card.title': 'Butiran kad',
    'cart.step3.card.secureHint': 'Disulitkan & selamat',
    'cart.step3.card.note': 'Maklumat ini hanya digunakan untuk tujuan pembayaran sahaja.',
    'cart.step3.card.fields.cardholder.label': 'Nama pemegang kad',
    'cart.step3.card.fields.cardholder.placeholder': 'Nama seperti pada kad',
    'cart.step3.card.fields.cardNumber.label': 'Nombor kad',
    'cart.step3.card.fields.cardNumber.placeholder': '1234 5678 9012 3456',
    'cart.step3.card.fields.expiry.label': 'Tarikh luput',
    'cart.step3.card.fields.expiry.placeholder': 'MM/YY',
    'cart.step3.card.fields.cvc.label': 'Kod keselamatan',
    'cart.step3.card.fields.cvc.placeholder': 'CVC',

    'cart.step3.bank.title': 'Butiran pindahan bank',
    'cart.step3.bank.description':
      'Buat pindahan ke akaun di bawah, kemudian muat naik resit untuk melengkapkan pesanan anda.',
    'cart.step3.bank.details.bankNameLabel': 'Nama bank',
    'cart.step3.bank.details.beneficiaryNameLabel': 'Nama penerima',
    'cart.step3.bank.details.ibanLabel': 'Akaun / IBAN',
    'cart.step3.bank.receipt.title': 'Muat naik resit pindahan',
    'cart.step3.bank.receipt.formats': 'PDF atau imej (JPG/PNG)',
    'cart.step3.bank.receipt.upload': 'Klik untuk muat naik resit',
    'cart.step3.bank.receipt.chosen': 'Fail dipilih',
    'cart.step3.bank.receipt.chooseFromDevice': 'Pilih fail daripada peranti anda',
    'cart.step3.bank.receipt.wrongFileHint':
      'Jika anda tersalah muat naik fail, buang dan muat naik yang lain.',
    'cart.step3.bank.receipt.removeFile': 'Buang fail',

    'cart.step3.actions.back': 'Kembali',
    'cart.step3.actions.confirm': 'Sahkan pembayaran',

    'cart.step3.validation.methodRequired': 'Sila pilih kaedah pembayaran.',
    'cart.step3.validation.cardholderRequired': 'Sila masukkan nama pemegang kad.',
    'cart.step3.validation.cardNumberRequired': 'Sila masukkan nombor kad.',
    'cart.step3.validation.cardNumberInvalid': 'Nombor kad tidak sah.',
    'cart.step3.validation.cardNumberLuhnInvalid': 'Nombor kad tidak sah.',
    'cart.step3.validation.expiryRequired': 'Sila masukkan tarikh luput.',
    'cart.step3.validation.expiryInvalid': 'Tarikh luput tidak sah.',
    'cart.step3.validation.cvcRequired': 'Sila masukkan kod keselamatan.',
    'cart.step3.validation.cvcInvalid': 'Kod keselamatan tidak sah.',
    'cart.step3.validation.receiptRequired': 'Sila muat naik resit pindahan.',
    'cart.step3.validation.receiptTypeInvalid':
      'Jenis fail tidak disokong. Muat naik PDF atau imej.',
    'cart.step3.validation.receiptSizeTooLarge': 'Fail terlalu besar. Saiz maksimum 5MB.',

    'qurbani.currency.sar': 'SAR',
    'qurbani.items.increaseAria': 'Tambah kuantiti {item}',
    'qurbani.items.decreaseAria': 'Kurangkan kuantiti {item}',
    'qurbani.cart.title': 'Butiran pesanan',
    'qurbani.cart.empty': 'Anda belum menambah sebarang item.',
    'qurbani.cart.quantityLabel': 'Qty:',
    'qurbani.cart.clear': 'Kosongkan pesanan',
    'qurbani.cart.checkout': 'Pembayaran',
    'qurbani.cart.outOfSync': 'Nilai tidak segerak. Sila kemas kini pesanan di: {sections}.',
    'qurbani.summary.subtotal': 'Subjumlah',
    'qurbani.summary.tax': 'Cukai ({rate}%)',
    'qurbani.summary.total': 'Jumlah',
    'qurbani.badges.securePayment': 'Pembayaran selamat',
    'qurbani.badges.support247': 'Sokongan 24/7',
    'qurbani.listSeparator': ', ',
  },

  'tr.json': {
    'common.home': 'Ana Sayfa',
    'common.about': 'Hakkımızda',
    'common.contact': 'İletişim',
    'common.privacy_policy': 'Gizlilik Politikası',
    'common.terms_conditions': 'Şartlar ve Koşullar',
    'common.language': 'Dil',
    'common.empty': 'Veri yok',
    'common.next_step': 'Sonraki adım',
    'common.previous_step': 'Önceki adım',
    'common.submit': 'Gönder',
    'common.error': 'Bir hata oluştu',

    'header.nav.home': 'Ana Sayfa',
    'header.nav.services': 'Hizmetler',
    'header.nav.products': 'Ürünler',
    'header.nav.about': 'Hakkımızda',
    'header.services.menuAria': 'Hizmetler menüsü',
    'header.services.items.appName': 'Arkan Al-Manasik',
    'header.services.items.hadiAndUdhiyah': 'Hedi & Udhiyah',
    'header.services.items.badal': 'Bedel',
    'header.services.items.consultations': 'Danışmanlık',
    'header.services.items.manasik': 'Menâsik',
    'header.services.items.permits': 'İzinler',
    'header.actions.account': 'Hesap',
    'header.actions.cart': 'Sepet',
    'header.soon': 'Yakında',
    'header.mobile.navigation': 'Gezinme',
    'header.mobile.menu': 'Menü',
    'header.mobile.closeMenu': 'Menüyü kapat',
    'header.mobile.close': 'Kapat',

    'footer.description':
      'Hac ve Umre hizmetleri için ilk platformunuz. Dünyanın dört bir yanından gelen misafirlere eksiksiz ve kolay bir manevi deneyim sunmayı hedefliyoruz.',
    'footer.quickLinks.title': 'Hızlı bağlantılar',
    'footer.quickLinks.about': 'Şirket hakkında',
    'footer.quickLinks.products': 'Ürünler',
    'footer.quickLinks.blog': 'İslami blog',
    'footer.quickLinks.privacyPolicy': 'Gizlilik politikası',
    'footer.support.title': 'Destek & yardım',
    'footer.support.helpCenter': 'Yardım merkezi',
    'footer.support.faq': 'SSS',
    'footer.support.trackOrder': 'Siparişi takip et',
    'footer.support.contact': 'İletişim',
    'footer.newsletter.title': 'Abone ol',
    'footer.newsletter.description': 'Yolculuğunuz için en yeni teklifler ve ipuçlarını alın.',
    'footer.newsletter.emailPlaceholder': 'E-posta adresiniz',
    'footer.newsletter.submitAria': 'Gönder',

    'store.brand.subtitle': 'Manevi yolculuğunuz için en iyi ürünler, uygun fiyatlarla',
    'store.breadcrumb.ariaLabel': 'Gezinme yolu',
    'store.breadcrumb.store': 'Mağaza',
    'store.search.mobilePlaceholder': 'Ürün ara...',
    'store.search.desktopPlaceholder': 'İhram, mushaf ara...',
    'store.filters.categories': 'Kategoriler',
    'store.filters.price': 'Fiyat',
    'store.filters.inStockOnly': 'Sadece stokta olanlar',
    'store.categories.all': 'Tümü',
    'store.categories.ihram': 'İhram kıyafetleri',
    'store.categories.mushaf': 'Mushaflar',
    'store.categories.books': 'İslami kitaplar',
    'store.categories.beads': 'Tesbih',
    'store.categories.prayerRugs': 'Seccade',
    'store.categories.perfumes': 'Parfüm',
    'store.sort.label': 'Sırala:',
    'store.sort.options.bestSelling': 'Çok satan',
    'store.sort.options.priceLowToHigh': 'Fiyat: düşükten yükseğe',
    'store.sort.options.priceHighToLow': 'Fiyat: yüksekten düşüğe',
    'store.sort.options.newest': 'En yeni',
    'store.actions.addToFavorites': 'Favorilere ekle',
    'store.actions.addToCartShort': 'Sepete ekle',
    'store.pagination.previous': 'Önceki sayfa',
    'store.pagination.next': 'Sonraki sayfa',

    'store.products.items.details.title': 'Ürün adı',
    'store.products.items.details.shortDescription': 'Ürünün öne çıkan özelliklerini ve faydalarını anlatan kısa açıklama.',
    'store.products.items.details.fullDescription':
      'Malzeme, kullanım şekli, faydalar ve satın alma kararına yardımcı olabilecek diğer detayları içeren kapsamlı ürün açıklaması.',

    'store.product.actions.addToFavorites': 'Favorilere ekle',
    'store.product.actions.removeFromFavorites': 'Favorilerden çıkar',
    'store.product.actions.addToCart': 'Sepete ekle',
    'store.product.actions.share': 'Ürünü paylaş',
    'store.product.share.text': 'Ürün detaylarını görüntüle',
    'store.product.stock.inStock': 'Stokta',
    'store.product.rating.aria': 'Puan',
    'store.product.rating.count': '({count} değerlendirme)',
    'store.product.price.currency': 'Suudi Riyali',
    'store.product.price.vatIncluded': 'KDV dahil',
    'store.product.quantity.label': 'Adet',
    'store.product.quantity.increase': 'Adedi artır',
    'store.product.quantity.decrease': 'Adedi azalt',
    'store.product.quantity.inputAria': 'Adet',
    'store.product.tabs.description': 'Açıklama',
    'store.product.tabs.specs': 'Özellikler',
    'store.product.tabs.reviews': 'Yorumlar ({count})',
    'store.product.reviews.title': 'Müşteri yorumları',
    'store.product.reviews.basedOn': '{count} yoruma göre',
    'store.product.specs.title': 'Özellikler',
    'store.product.specs.material.label': 'Malzeme',
    'store.product.specs.accessories.label': 'Aksesuar',
    'store.product.specs.suitableFor.label': 'Uygun',
    'store.product.specs.warranty.label': 'Garanti',

    'cart.currency.sar': 'SAR',
    'cart.itemCard.removeItemAria': '{item} kaldır',
    'cart.itemCard.decreaseQtyAria': '{item} adedini azalt',
    'cart.itemCard.increaseQtyAria': '{item} adedini artır',
    'cart.step1.title': 'Sepet içeriği',
    'cart.checkout.title': 'Ödeme',
    'cart.checkout.subtitle': 'Mübarek yolculuğunuzu tamamlamak için adımları bitirin',
    'cart.checkout.stepper.step1': 'Sepeti gözden geçir',
    'cart.checkout.stepper.step2': 'Müşteri bilgileri',
    'cart.checkout.stepper.step3': 'Ödeme yöntemi',
    'cart.checkout.progress.stepOf': '{total} adımın {step}. adımı',
    'cart.checkout.progress.completePercent': '%{percent} tamamlandı',
    'cart.checkout.summary.title': 'Sipariş özeti',
    'cart.checkout.summary.subtotal': 'Ara toplam',
    'cart.checkout.summary.vat': 'KDV ({rate}%)',
    'cart.checkout.summary.serviceFee': 'Hizmet bedeli',
    'cart.checkout.summary.total': 'Toplam',
    'cart.checkout.discount.placeholder': 'İndirim kodu',
    'cart.checkout.discount.apply': 'Uygula',
    'cart.checkout.actions.continueToCustomerInfo': 'Müşteri bilgilerine devam et',
    'cart.checkout.actions.continueToPayment': 'Ödemeye devam et',
    'cart.checkout.actions.confirmPayment': 'Ödemeyi onayla',
    'cart.checkout.securityHint': '%100 güvenli ve şifreli ödeme',
    'cart.checkout.help.title': 'Yardıma mı ihtiyacınız var?',
    'cart.checkout.help.description': 'Ekibimiz 7/24 size yardımcı olur',
    'cart.checkout.help.contact': 'İletişim',

    'cart.step2.title': 'Müşteri bilgileri',
    'cart.step2.actions.back': 'Geri',
    'cart.step2.actions.next': 'İleri',

    'cart.step3.title': 'Ödeme yöntemi',
    'cart.step3.methods.card.title': 'Kredi / banka kartı',
    'cart.step3.methods.card.description': 'Kartınızla güvenli ödeme yapın',
    'cart.step3.methods.bank.title': 'Banka havalesi',
    'cart.step3.methods.bank.description': 'Dekontu yükleyin',

    'cart.step3.card.title': 'Kart bilgileri',
    'cart.step3.card.secureHint': 'Şifreli ve güvenli',
    'cart.step3.card.note': 'Bu bilgiler yalnızca ödeme işlemleri için kullanılacaktır.',
    'cart.step3.card.fields.cardholder.label': 'Kart üzerindeki isim',
    'cart.step3.card.fields.cardholder.placeholder': 'Kartta yazdığı gibi',
    'cart.step3.card.fields.cardNumber.label': 'Kart numarası',
    'cart.step3.card.fields.cardNumber.placeholder': '1234 5678 9012 3456',
    'cart.step3.card.fields.expiry.label': 'Son kullanma tarihi',
    'cart.step3.card.fields.expiry.placeholder': 'AA/YY',
    'cart.step3.card.fields.cvc.label': 'Güvenlik kodu',
    'cart.step3.card.fields.cvc.placeholder': 'CVC',

    'cart.step3.bank.title': 'Banka havalesi bilgileri',
    'cart.step3.bank.description':
      'Aşağıdaki hesaba havale yapın, ardından dekontu yükleyerek siparişinizi tamamlayın.',
    'cart.step3.bank.details.bankNameLabel': 'Banka adı',
    'cart.step3.bank.details.beneficiaryNameLabel': 'Alıcı adı',
    'cart.step3.bank.details.ibanLabel': 'Hesap / IBAN',
    'cart.step3.bank.receipt.title': 'Havale dekontunu yükle',
    'cart.step3.bank.receipt.formats': 'PDF veya görsel (JPG/PNG)',
    'cart.step3.bank.receipt.upload': 'Dekontu yüklemek için tıklayın',
    'cart.step3.bank.receipt.chosen': 'Dosya seçildi',
    'cart.step3.bank.receipt.chooseFromDevice': 'Cihazınızdan dosya seçin',
    'cart.step3.bank.receipt.wrongFileHint':
      'Yanlış dosya yüklediyseniz kaldırıp başka bir dosya yükleyin.',
    'cart.step3.bank.receipt.removeFile': 'Dosyayı kaldır',
    'cart.step3.actions.back': 'Geri',
    'cart.step3.actions.confirm': 'Ödemeyi onayla',

    'cart.step3.validation.methodRequired': 'Lütfen bir ödeme yöntemi seçin.',
    'cart.step3.validation.cardholderRequired': 'Lütfen kart üzerindeki ismi girin.',
    'cart.step3.validation.cardNumberRequired': 'Lütfen kart numarasını girin.',
    'cart.step3.validation.cardNumberInvalid': 'Kart numarası geçersiz.',
    'cart.step3.validation.cardNumberLuhnInvalid': 'Kart numarası geçersiz.',
    'cart.step3.validation.expiryRequired': 'Lütfen son kullanma tarihini girin.',
    'cart.step3.validation.expiryInvalid': 'Son kullanma tarihi geçersiz.',
    'cart.step3.validation.cvcRequired': 'Lütfen güvenlik kodunu girin.',
    'cart.step3.validation.cvcInvalid': 'Güvenlik kodu geçersiz.',
    'cart.step3.validation.receiptRequired': 'Lütfen havale dekontunu yükleyin.',
    'cart.step3.validation.receiptTypeInvalid':
      'Desteklenmeyen dosya türü. PDF veya görsel yükleyin.',
    'cart.step3.validation.receiptSizeTooLarge': 'Dosya çok büyük. Maksimum boyut 5MB.',

    'qurbani.currency.sar': 'SAR',
    'qurbani.items.increaseAria': '{item} adedini artır',
    'qurbani.items.decreaseAria': '{item} adedini azalt',
    'qurbani.cart.title': 'Sipariş detayları',
    'qurbani.cart.empty': 'Henüz ürün eklemediniz.',
    'qurbani.cart.quantityLabel': 'Adet:',
    'qurbani.cart.clear': 'Siparişi temizle',
    'qurbani.cart.checkout': 'Ödeme',
    'qurbani.cart.outOfSync': 'Değerler senkron değil. Lütfen şu bölümlerde güncelleyin: {sections}.',
    'qurbani.summary.subtotal': 'Ara toplam',
    'qurbani.summary.tax': 'Vergi ({rate}%)',
    'qurbani.summary.total': 'Toplam',
    'qurbani.badges.securePayment': 'Güvenli ödeme',
    'qurbani.badges.support247': '7/24 destek',
    'qurbani.listSeparator': ', ',
  },
};

async function applyPatches(filename) {
  const patches = PATCHES[filename];
  if (!patches) return { filename, changed: false };

  const filePath = path.join(LOCALES_DIR, filename);
  const { json } = await readJson(filePath);

  for (const [keyPath, value] of Object.entries(patches)) {
    setDeep(json, keyPath, value);
  }

  await writeJson(filePath, json);
  return { filename, changed: true, keys: Object.keys(patches).length };
}

async function main() {
  const results = [];
  for (const filename of Object.keys(PATCHES)) {
    results.push(await applyPatches(filename));
  }
  // eslint-disable-next-line no-console
  for (const r of results) console.log(`${r.filename}: updatedKeys=${r.keys ?? 0}`);
}

await main();
